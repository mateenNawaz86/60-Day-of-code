<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Async - await</title>
  </head>
  <body>
    <h2>Async - await</h2>
    <button class="btn" type="submit" id="btn">Show</button>
    <script>
      const btn = document.getElementById("btn");

      btn.addEventListener("click", async (event) => {
        const response = await fetch("student_data.json")
          .then((response) => {
            console.log(response);
          })
          .then((result) => {
            console.log("Here your API result");
          })
          .catch((error) => {
            console.log(error);
          });
      });

      console.log("Hello from outside :)");

      const test = async () => {
        console.log("second Console");

        let response = await fetch("student_data.json");
        let students = await response.json();

        // single line code of upper code
        // return (wait fetch("student_data.json")).json();
        // compiler will be wait there and outside the function lines of code executes
        console.log("Third Console");

        return students;
      };

      // return file data
      test()
        .then((res) => {
          console.log(res);
        })
        .catch((error) => {
          console.log(error);
        });

      console.log("First Console");
      let functionRes = test();
      console.log("Fourth console");
      console.log(functionRes);
    </script>
  </body>
</html>
